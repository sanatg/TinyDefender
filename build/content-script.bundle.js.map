{"version":3,"file":"content-script.bundle.js","sources":["node_modules/@cliqz/adblocker-extended-selectors/src/parse.ts","node_modules/@cliqz/adblocker-extended-selectors/src/eval.ts","node_modules/@cliqz/adblocker-extended-selectors/src/extended.ts","node_modules/@cliqz/adblocker-content/adblocker.ts","node_modules/@cliqz/adblocker-webextension-cosmetics/adblocker.ts","content-script.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["TOKENS","attribute","id","class","comma","combinator","type","TOKENS_WITH_PARENS","Set","TOKENS_FOR_RESTORE","Object","assign","matches","element","selector","content","list","some","s","compound","every","name","undefined","subtree","querySelectorAll","length","argument","text","textContent","pattern","startsWith","endsWith","caseSensitive","slice","RegExp","test","includes","matchPattern","minLength","Number","isNaN","elements","push","subSelector","filter","e","elements2","left","element2","right","child","children","sibling","nextElementSibling","subElement","SelectorType","source","replace","SCRIPT_ID","IGNORED_TAGS","isElement","node","nodeType","DOMMonitor","constructor","cb","this","queryAll","window","document","documentElement","handleUpdatedNodes","start","observer","MutationObserver","mutations","mutation","target","addedNode","addedNodes","getElementsFromMutations","observe","attributes","attributeFilter","childList","stop","disconnect","handleNewFeatures","hrefs","ids","classes","newIds","newClasses","newHrefs","knownIds","has","add","cls","knownClasses","href","knownHrefs","nodeName","toLowerCase","roots","ignoredTags","root","classList","getAttribute","Array","from","extractFeaturesFromDOM","injectScript","doc","script","createElement","async","appendChild","createTextNode","autoRemoveScript","parent","head","ACTIVE","DOM_MONITOR","UPDATE_EXTENDED_TIMEOUT","PENDING","EXTENDED","HIDDEN","Map","unload","getCosmeticsFiltersWithSendMessage","arg","Promise","resolve","chrome","runtime","sendMessage","action","response","cachedQuerySelector","cache","cachedElements","get","selected","ast","cachedSelectors","set","cachedSelected","delayedUpdateExtended","clear","setTimeout","size","elementsToHide","isConnected","remove","entries","setAttribute","delete","removeAttribute","updateExtended","handleResponseFromBackground","active","scripts","extended","enableMutationObserver","getCosmeticsFilters","lifecycle","then","addEventListener","update","once","passive","injectCosmetics"],"mappings":"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"}